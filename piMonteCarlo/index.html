<!DOCTYPE html>
<html>

  <head>
    <title>Pi Monte Carlo</title>
    <link rel="stylesheet" href="assets/css/default.css" />
    <script data-require="processing.js@*" data-semver="1.4.1" src="//cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.1/processing.min.js"></script>
    <script type="text/processing" data-processing-target="targetcanvas">
      void setup() {
          size(400, 400);
          strokeWeight(1);
          ellipse(200, 200, 400, 400);
          strokeWeight(5);
          frameRate(30);
      }
      
      
      background(255, 255, 255);
      var hit = 0;
      var total = 0;
      var hypotenuse = function(x, y) {
        return sqrt(sq(x) + sq(y));
      };
      
      void draw() {
        
        var randomX = random(-1, 1);
        var randomY = random(-1, 1);
        var mappedX = map(randomX, -1, 1, 0, 400);
        var mappedY = map(randomY, -1, 1, 0, 400);
        
        /*
        if (keyIsPressed && keyCode === 38) {
            frameRate(30);
        }
        if (keyIsPressed && keyCode === 39) {
            frameRate(60);
        }
        if (keyPressed && keyCode === 37) {
            frameRate(1);
        }
        */
        
        strokeWeight(5);
        if (hypotenuse(randomX, randomY) > 1) {
            stroke(0, 0, 0);
            point(mappedX, mappedY);
        } else {
            stroke(255, 0, 0);
            point(mappedX, mappedY);
            hit++;
        }
        total++;
        
        fill(255, 255, 255);
        stroke(255, 255, 255);
        rect(201, 183, 40, 20);
        strokeWeight(1);
        fill(0, 0, 0);
        textSize(16);
        text(hit * 4 / total, 200, 200);
      };
    </script>
  </head>

  <body>
    <div id="canvasContainer">
      <h1>Pi Monte Carlo Simulation</h1>
      <canvas id="targetcanvas" width="400" height="400"></canvas>
    </div>
  </body>

</html>
